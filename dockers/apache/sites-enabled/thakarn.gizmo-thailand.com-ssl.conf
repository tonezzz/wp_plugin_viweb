define server_name "thakarn.gizmo-thailand.com"

ServerName "thakarn.gizmo-thailand.com"

<VirtualHost *:443>
    ServerAdmin tonezzz@hotmail.com
    ServerName thakarn.gizmo-thailand.com
    ServerAlias localhost
    DocumentRoot "/usr/local/apache2/htdocs"

    Protocols h2 h2c http/1.1
    H2Direct on

    LogLevel warn
    ErrorLog "/usr/local/apache2/logs/thakarn-ssl-error_log"
    CustomLog "/usr/local/apache2/logs/thakarn-ssl-access_log" common

    #RewriteEngine On
    #RewriteLog "/usr/local/apache2/logs/rewrite.log"
    #RewriteLogLevel 3

    <Directory "/usr/local/apache2/htdocs">
        Options +FollowSymLinks +MultiViews
        AllowOverride All
        Require all granted
    </Directory>

    <IfModule mod_proxy.c>
        SSLProxyEngine On
        ProxyPreserveHost On
        #<Location "/en/">
        #    ProxyPass "https://${server_name}/"
        #    ProxyPassReverse "https://${server_name}/en/"
        #    RequestHeader unset X-Forwarded-For
        #</Location>
    </IfModule>

    <IfModule ssl_module>
        SSLEngine On
        SSLProxyEngine On
        SSLProtocol                         all -SSLv2 -SSLv3
        SSLCipherSuite                      ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA256:ECDHE-ECDSA-AES128-SHA:ECDHE-RSA-AES256-SHA384:ECDHE-RSA-AES128-SHA:ECDHE-ECDSA-AES256-SHA384:ECDHE-ECDSA-AES256-SHA:ECDHE-RSA-AES256-SHA:DHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA:DHE-RSA-AES256-SHA256:DHE-RSA-AES256-SHA:ECDHE-ECDSA-DES-CBC3-SHA:ECDHE-RSA-DES-CBC3-SHA:EDH-RSA-DES-CBC3-SHA:AES128-GCM-SHA256:AES256-GCM-SHA384:AES128-SHA256:AES256-SHA256:AES128-SHA:AES256-SHA:DES-CBC3-SHA:!DSS
        SSLHonorCipherOrder                 on
        SSLOptions                          +StrictRequire
        #SSLCertificateFile                  /etc/letsencrypt/live/${server_name}/cert.pem
        #SSLCertificateKeyFile               /etc/letsencrypt/live/${server_name}/privkey.pem
        #SSLCertificateChainFile             /etc/letsencrypt/live/${server_name}/fullchain.pem
        SSLCertificateFile                  /etc/letsencrypt/live/thakarn.gizmo-thailand.com/cert.pem
        SSLCertificateKeyFile               /etc/letsencrypt/live/thakarn.gizmo-thailand.com/privkey.pem
        SSLCertificateChainFile             /etc/letsencrypt/live/thakarn.gizmo-thailand.com/fullchain.pem
    </IfModule>

    <Location /server-status>
        SetHandler server-status
        <RequireAll>
            Require all granted
        </RequireAll>
    </Location>

    <Location /server-info>
        SetHandler server-info
        <RequireAll>
            Require all granted
        </RequireAll>
    </Location>

</VirtualHost>
